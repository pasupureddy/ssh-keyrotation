---
- hosts: localhost
  tasks:
    - name: copy the new keyfile to hosts
      copy:
        src: "files/id_rsa.pub"
        dest: "/home/hpansl01/.ssh/id_rsa.pub"
        follow: yes   # to overwrite existing Key Content


    - name: Set authorized key taken from file
      ansible.posix.authorized_key:
        user: hpansl01
        state: present
        key: "{{ lookup('file', '/home/hpansl01/.ssh/id_rsa.pub') }}"
